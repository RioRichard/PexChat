<!DOCTYPE html>
<html lang="en" xmlns:th="www.thymeleaf.org" xmlns:sec="www.thymeleaf.org/extras/spring-security">

<head>
    <title>Register</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/png" href="../Image/icons/favicon.ico" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" type="text/css"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css">
    <link rel="stylesheet" type="text/css" href="/vendor/animate/animate.css">
    <link rel="stylesheet" type="text/css" href="/vendor/css-hamburgers/hamburgers.min.css">
    <link rel="stylesheet" type="text/css" href="/vendor/select2/select2.min.css">
    <link rel="stylesheet" type="text/css" href="/CSS/main.css">
    <link rel="stylesheet" type="text/css" href="/CSS/util.css">
</head>

<body>

    <div class="limiter">
        <div class="container-login100">
            <div class="wrap-login100" style="padding: 118px 130px 33px 95px;">
                <div class="login100-pic js-tilt" data-tilt>
                    <img src="../Image/img-01.png" style="margin-top: 59px;" alt="IMG">
                </div>
                <form id="signup" class="login100-form validate-form" th:action="@{/Resigter}" th:object="${user}"
                    method="post">
                    <span class="login100-form-title">
                        Resigster
                    </span>
                    <div id="success" class="alert alert-primary" role="alert" th:text="${success}" th:if="${success}"></div>
                    <div id="fail" class="alert alert-danger" role="alert" th:text="${error}" th:if="${error}"></div>
                    <div class="wrap-input100 validate-input" data-validate="Hãy nhập Username">
                        <input class="input100" type="text" field="*{username}" name="username" placeholder="Username">
                        <span class="focus-input100"></span>
                        <span class="symbol-input100">
                            <i class="fa fa-envelope" aria-hidden="true"></i>
                        </span>
                    </div>

                    <div class="wrap-input100 validate-input" data-validate="Hãy nhập Password">
                        <input id="pass" class="input100" type="password" name="password" placeholder="Password"
                            field="*{password}">
                        <span class="focus-input100"></span>
                        <span class="symbol-input100">
                            <i class="fa fa-lock" aria-hidden="true"></i>
                        </span>
                    </div>
                    <div class="wrap-input100 validate-input" data-validate="Hãy nhập lại mật khẩu">
                        <input id="repass" class="input100" type="password" name="pass" placeholder="Retype Password">
                        <span class="focus-input100"></span>
                        <span class="symbol-input100">
                            <i class="fa fa-lock" aria-hidden="true"></i>
                        </span>
                    </div>
                    <div class="container-login100-form-btn">
                        <button on type="submit" class="login100-form-btn">
                            Resigster
                        </button>
                    </div>

                    <div class="text-center p-t-12">
                        <span class="txt1">
                            Forgot
                        </span>
                        <a class="txt2" href="#">
                            Username / Password?
                        </a>
                    </div>

                    <div class="text-center p-t-136">
                        <a style="font-size: 20px;" class="txt2" href="/login">
                            Back to login
                            <i class="fa fa-long-arrow-right m-l-5" aria-hidden="true"></i>
                        </a>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <script src="./vendor/jquery/jquery-3.2.1.min.js"></script>
    <script src="./vendor/bootstrap/js/popper.js"></script>
    <script src="./vendor/bootstrap/js/bootstrap.min.js"></script>
    <script src="./vendor/select2/select2.min.js"></script>
    <script src="./vendor/tilt/tilt.jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.3/jquery.validate.min.js"
        integrity="sha512-37T7leoNS06R80c8Ulq7cdCDU5MNQBwlYoy1TX/WUsLFC2eYNqtKlV0QjH7r8JpG/S0GUMZwebnVFLPd6SU5yg=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script>
        $('.js-tilt').tilt({
            scale: 1.1
        })
    </script>
    <script>
        // function show() {
        //     alert("Đăng kí thành công, bạn sẽ được chuyển về trang đăng nhập")
        //     window.location.href = "/login";
        // }
        // function check(e) {
        //     // e.preventDefault();
        //     if (document.getElementById("pass").value != document.getElementById("repass").value) {
        //         alert("Nhap sai mk");
        //     }
        //     else {
        //         alert("Đăng kí thành công, bạn sẽ được chuyển về trang đăng nhập")
        //     }
        // }
        const form = document.querySelector('#signup');
        const pass = document.querySelector('#pass');
        const repass = document.querySelector('#repass');
        const status=document.querySelector("#fail");
        form.addEventListener('submit', function (e) {
            e.preventDefault();
            console.log(status);
            if (pass.value != repass.value) {
                alert("Mật khẩu không khớp")
            }
            else if(pass.value!="" && repass.value!="") {
                form.submit();
                if (status!=null) {
                    alert("Thành công")
                }
            }
        });
    </script>
    <script src="js/main.js"></script>
</body>

</html>